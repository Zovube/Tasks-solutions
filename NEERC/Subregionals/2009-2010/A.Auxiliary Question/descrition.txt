Это техническая задача, как раз такие мне не нравятся. Я не придумал нормального решения и на след день прочитал разбор.
Когда я прочитал разбор то понял что задача детская и я перемудрил так как в заданных ограничениях она решается очень просто.

Вывод: иногда нужно не отбрасывать самые тупые идеи а проверять, точно ли они не работают.
